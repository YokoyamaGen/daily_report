# 取り組んだ課題一覧
- 達人に学ぶDB設計 6章、7章

# わかったこと
- SQL
    - インデックスが有効にならないケース
        - データの種類（カーディナリティ）が少なく、データ量が少ない場合。
        - whereの条件で演算されている場合。`where test * 1.1 = 1`
        - whereの条件で暗黙的な型変換されている場合。`where test = 10`のように本来は文字列の数字を数値型の数字に暗黙的に型変換されている場合。
        - whereでor条件が使用されている場合。

    - アンチパターン
        - ダブルミーニング。一つの列に複数の種類のデータが入っている。例えば、学生の年齢と体重が入っている。
        - 単一参照テーブル。ダブルミーニングよりも大きな範囲のもの。複数のテーブルで構造が同じようなテーブルを一つのテーブルにまとめるため、複数のデータが格納されている。
        - 水平分割と垂直分割
            - いずれもパフォーマンスを改善するために行うものの、代替手段がある。
            - 水平分割はパーティションを使用する。
            - 垂直分割は、データマート(テーブルのカラムの中でよく参照されるものだけを集めたテーブル)とサマリーテーブル(集約関数で集計した結果を格納したテーブル)を新規で作成する。
            - ただし、データマート及びサマリーテーブルも元のテーブルとデータを同期する処理について考える必要があるため、要件に合わせた実装が必要。
        - 主キーや外部キー、結合条件のキーには可変長文字列を使用してはいけない。可変長文字列は不変性がないため、システムとして安定しない。例えば、人の名前は結構したら変わってしまう可能性もあるため。
        - キーに使用するのは固定長文字列。
        - 可変長文字列の数字と固定長文字列の数字は同じ数字でも一致しない。固定長は空白が入ってくるため。

# 次やること
- タイピング
- スッキリわかるSQL入門 付録の問題
- チェリー本の復習
- 達人に学ぶDB設計

# 感じたこと
- 統計情報をサービス終了時点で、設定しておき、統計情報の収集をストップする方法があることは初めて知りました。しかし、サービス終了時点の統計情報を設定するのは、かなりハードルが高そうだと思いました。
- パーティションやデータマートなど前職でやっていた内容のため、理解がしやすかったです。また、書籍を読むことで理解も深まりました。
- 今まで結合条件のキーや主キーなどのデータ型を深く考えずになんとなくやってしまっていたが、今回の学習でキーのデータ型について深く知れてよかったです。

# 学習時間
Today: 4 h 00 m

Total: 321 h 30 m













































