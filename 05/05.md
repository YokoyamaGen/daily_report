# 取り組んだ課題一覧
- タイピング
- Linux標準教科書 残り全て

# わかったこと

- `sort`
  - 文字の場合は一文字目の文字を基準にして、並び替える。
  - 数字を並び替える際には`-n`オプションを使う
  - -並び替えるのキーを指定するには`-k 数字`

- `uniq`
  - 直前の行と同じ内容があった場合、出力しない。

- `tr 変更前　変更後`
  - 文字ごとに置き換える。
 ```
cat translate                                                                                            
Android
iPhone
Windows Phone

cat translate | tr on ON
ANdrOid
iPhONe
WiNdOws PhONe
 ```
- 置換
  - `:ns/old/new`でn 行目の最初の old を new に置換して終了
  - `: ns/old/new/g`でn 行目の全ての old を new に置換して終了

- 管理者の仕事。
  - ユーザ関連
    -  `useradd ユーザ名`でユーザを作成する。また、作成時に`-g`オプションを指定すれば、グループ名を指定できる。グループ名は/etc/group ファイルで定義したグループ名です。
    -  `usermod ユーザ名`でユーザアカウントの変更。コメントやグループ名を変更できる。
    -  `userdel ユーザ名`でユーザを削除する。
  -  グループ関連
    -  `groupadd グループ名`でグループの作成
    -  `groupmod [-g gid] [-n new-group-name] 変更対象のグループ`でグループの登録情報の変更。オプション`-n`で既存のグループ名を変更する場合に指定します。
    -  `groupdel グループ名`でグループを削除。ユーザが所属していないグループのみ削除できます。
  - 設定ファイル
    - `/etc/group`にグループ定義
    - `/etc/passwd`にユーザ定義
    - `/etc/shadow`。ユーザの暗号化されたパスワードはパスワードファイルではなく、シャドウファイル (/etc/shadow) に保存されます。
    - `/etc/sudoers`に`sudo`コマンドが使用できるユーザが格納されている。`visudo`コマンドで編集できる。

  - `passwd [ユーザ名]`でユーザのパスワード登録と変更ユーザのパスワードを登録したり、変更します。初めてパスワードを変換す るのはシステム管理のための root ユーザ (スーバーユーザ) である必要があります
  - `su`コマンド。 **オプションを付けずに su コマンドを実行した場合はカレントディレクトリを変更せずに root ユーザでログインします。カレントディレクトリを root のホームディレクトリに変更してログイ ンするには「su -」、もしくは「su - root」と実行することでカレントディレクトリを変更した上で root ユーザでログインできます。**

- ファイルとアクセス権
  - `umask [8 進数のモードのマスク値]`で指定したパーミッションでファイルを作成するように制限できます。
  - `umask`で現在のマスク値を表示する。

- シェルスクリプト
  - 変数
    - シェル変数。プログラム内で有効。プログラムAの中からBというプログラムを読んでいた場合、Aに定義していた変数はAのみ有効。Bでは使えない。
      - `xxx=123`でシェル変数を定義する。
      - `set`コマンドで、シェル変数の一覧を表示する
      - `unset`コマンドで、削除する。
    - 環境変数。プログラム内だけでなく、呼び出されたプログラムでも有効。プログラムAの中からBというプログラムを読んでいた場合、Aに定義していた変数はAだけでなく、Bでも使える。
      - `export`コマンドを使って、環境変数を作成する。例えば、export yyy=234
      - `env`コマンドで環境変数の一覧を表示する
      - `unset`コマンドで、削除する。
  - `read 変数名`で標準入力からデータを読み込みます。すでに変数にデータが入っていた場合、新しいデータに上書きされます。
  - バッククォートで囲まれた文字列はコマンドとして、解釈され実行される。`echo "It is `date` now."`の`date`は実行結果が表示される。dateにバッククォートがなければ、dateはただの文字として表示される。

  - 引数。`$0`は実行コマンド名、`$#`は、引数の数を示す

```
cat args.sh
#!/bin/bash
echo '$1:' $1;
echo '$2:' $2;
echo '$3:' $3;
echo '$0:' $0;
echo '$#:' $#;

./args.sh aaa bbb ccc
$1: aaa
$2: bbb
$3: ccc
$0: ./args.sh
$#: 3

```

 - `shift`コマンドは、引数の順序をずらします。shift を実行すると、$2 が$1 に、$3 が$2 に・・・に なります。
 - `source`コマンドは、bash などのシェルの内部コマンドで、指定されたファイルを読み込んでシェ ル環境を設定します。ファイル内容はシェルコマンドと解釈して実行します。以下プログラムをsourceで実行すると`abc=xyz`がシェル変数にセットされる。プログラム実行後に、echo abcとやっても値を表示できる。

```
cat set.sh
#!/bin/bash
 abc=xyz
 echo $abc
```

  - `select` 文は、ユーザに対し数値による入力を促します 
```
cat test_select.sh
select name in  "apple" "banana" "orange"
do
    echo "You selected $name";
done

sh test_select.sh
1) apple
2) banana
3) orange
#? 1
You selected apple
#? 2
You selected banana
#? 3
You selected orange
```
  - `continue` は繰り返しの先頭に戻る役割があります

  - 関数
```
function 関数名 {
処理
}

関数名 () {
処理
}

```

- ネットワーク
  - `ping ターゲット`はターゲット (ホスト名や IP アドレス) にデータを送り、返答が戻るまでの時間を表示します。また、疎通確認のためのコマンド。
  - IPv4 で使われるIPアドレスは以下2つで構成されている。
    - ネットワークアドレス。
    - ホストアドレス
  - ネットワークアドレスとホストアドレスを分ける方法
    - サブネットマスク。サブネットマスクは通信先ホストが同一ネットワークにいるかいないかの判断に使われます。ビットが立っている (255 の様な) 部分をネットワークアドレスとする。
    - CIDR(サイダー)表記。IP アドレスのネットワーク部とホスト部の境目を/ (スラッシュ)の後に続くビット数で指定する方法。192.168.0.0/24みたいな感じ
  - ゲートウェイ
    - LANとLAN、LANとWANの間にあるもので、隣のネットワークにデータを転送する際に使用される。村と村をつなぐ橋みたいなもの。
    - `traceroute ターゲット`で自分が利用 しているコンピュータから通信先のコンピュータまでに仲介する複数のゲートウェイを調べる。ターゲットや途中のゲートウェイへデータを送り、ゲートウェイから返答が戻ってくる時間を表示します。ネットワーク経路（ルーター)を調べる。

  - IPアドレスを確認
    - `ifconfig`
    - `ip a[ddress] [インターフェース]`
    - `nmcli [インターフェース]`
  - IP アドレスの設定ファイル
    - `/etc/sysconfig/network-scripts/ifcfg-XXX`

  - 名前解決
    - まず`/etc/hosts`にドメインに紐づくIPアドレスがないか見て、もしないようだったら、リゾルブサーバを見に行く。
    - `nslookup ターゲット`でターゲットの名前と IP アドレスを返します。DNSサーバに名前解決を問い合わせるコマンド。
  - `netstat`はネットワークの状況を調べるためのコマンド

- プロセス
  - 自身の PID は `$$` で取得できます。
  - シグナル。プロセスにシグナルというイベントを送信してプロセスを制御する機能があります。
  - `pstree`コマンドでプロセスの親子関係をツリー表示する
  - `top`コマンドでプロセスのリアルタイムの状況を見れる。

- ハードディスクの利用
  - パーティション作成。ハードディスクを利用するために、ハードディスクを区切った単位です。ディスクの内部を複数のパーティション(領域)に区切る作業が必要となります。
    - 障害発生時の影響範囲を小さくするため。
    - ファイルアクセスの速度向上
    - システムとデータのバックアップ頻度を差別化する
  - ファイルシステム作成。ファイルシステムとは、ディレクトリやファイルの情報やデータをディスクの何処に保存してあ るか管理するためのシステム (仕組み) です。ファイルシステムはディレクトリやファイルの、ファ イル名やファイルの作成時間やファイルの所有権限などの情報を管理しています。また、ディスク のデータが書いてある場所とデータが書いていない場所なども管理しています。
  - マウント

- スワップ領域。プログラムやデータを新たに読み込むための空きメモリ領域が なくなると、Linuxのカーネルは今利用していないメモリ上のプログラムやデータをスワップ領域へ一時的に退避します。スワップパーティションとは Linuxのカーネルシステムがメモリの代わりとして一時的に使うハードディスクのパーティション領域です。

- 自動マウント。インストール時に作られたパーティションは、コンピュータの起動時に自動マウントされます。 起動時に自動マウントされる設定を記述するファイルは/etc/fstabというパスにある設定ファイルです。自動マウントにはmount コマンドが使われます。

- iノード。ext3(ext2) ファイルシステムは、ファイルやディレクトリに対し、i ノード番号というユニークな番号を割り振って管理しています。ファイルシステムを作成した時に iノード領域という場所が確保されます。iノード領域には、ファイルがディスク上にある位置やアクセス権限などの情報が保持 されています。

# 次やること
- タイピング
- Linucの問題集(Lv1-101)
- pecoとghqを導入する

# 感じたこと
- パスワード情報は`/etc/passwd`に格納されているものかと思っていましたが。`/etc/shadow`に格納されていることを知りました。
- ネットワーク管理とファイル管理の箇所の中に少し理解できなかった箇所もありましたが、問題集でアウトプットする中で理解を深めたいと思いました。
- ディレクトリ構成を理解しておくことで、エラーが起きても対応できるようになることや理解のスピードが早くなると思いました。

# 学習時間
Today: 6 h 00 m

Total: 74 h 10 m
